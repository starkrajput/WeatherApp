<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Weather App</title>
    <!-- <script href="index.js"></script> -->
    <style>
        body{
            background-color: black;
        }
    </style>
</head>
<body >
    
   <div class="box" style="background:#93a9ae92;text-align: center;justify-content: center;width: 50%;height: 500px;margin-left:400px;margin-top: 100px;padding : 10px 10px 10px 10px;overflow: hidden;transform: translate3d(0,0,0); ">
        <!-- <div class="wave -one"></div>
        <div class="wave -two"></div>
        <div class="wave -three"></div> -->
    
        <div id="weathercon" style="justify-content: center;">
            <!-- <i class="fa-solid fa-sun" style="color: #eccc68;">  </i>  -->
            <!-- <i class="fa-solid fa-cloud-hail-mixed"></i> -->
        </div>

        <div class="info" style="color: white;">
            <h2 class="location"><i class="fa-solid fa-street-view" style="color: #eccc68;letter-spacing: 3px ;">{%location%},     <pre>  {%country%}DIA</i></h2>
            <p id="date">WED | JULY 23 | 10:49</p>
            <h1 class="temp">{%tempval%}&deg;C</h1>
            <h3 class="tempmin_max">MIN {%tempmin%}&deg;C | MAX {%tempmax%}&deg;C</h3>
            <div class="wave" style="opacity: 0.3;position:absolute;top:120%;left:50%;background:white;width:50rem;height:50rem;margin-left:-25rem;margin-top:-25rem;transform-origin:50% 48%;border-radius:43%;animation:drift 3000ms infinite linear;z-index:1;"></div>
        </div>
    </div>

    <script>
        const curDate = document.getElementById("date");
        let weathercon = document.getElementById("weathercon");

        const tempStatus = "{%tempstatus%}";
        
        if(tempStatus =="Sunny"){
            weathercon.innerHTML = "<i class='fa-solid fa-sun' style='color: #eccc68;''>  </i>";
        }
        else if(tempStatus =="Clouds"){
            weathercon.innerHTML = "<i class='fa-solid fa-clouds' style='color: #eccc68;''></i>";
        }
        else if(tempStatus =="Rainy"){
            weathercon.innerHTML = "<i class='fa-solid fa-cloud-rain' style='color: #eccc68;''></i>";
        }
        else{
            weathercon.innerHTML = "<i class='fa-solid fa-sun' style='color: #eccc68;''>  </i>";
        }

        const getCurrentDay =  () =>{
            var weekday  = new Array(7);
            weekday[0] = "Sunday";
            weekday[1] = "Monday";
            weekday[2] = "Tuesday";
            weekday[3] = "Wednesday";
            weekday[4] = "Thursday";
            weekday[5] = "Friday";
            weekday[6] = "Saturday";


            let currentTime = new Date();
            let day = weekday[currentTime.getDay()];
            return day;
        };

        const getCurrentTime = () =>{
                var months = [
                    "Jan",
                    "Feb",
                    "Mar",
                    "April",
                    "May",
                    "June",
                    "July",
                    "August",
                    "Sep",
                    "Oct",
                    "Nov",
                    "Dec",
                ]

                var now = new Date();
                var month = months[now.getMonth()];
                var date = now.getDate();

                let hours = now.getHours();
                let mins =now.getMinutes();
                
                let period = "AM";
                if(hours>11){
                    period = "PM";
                    if(hours >12 )hours -=12;
                }
                if(mins <10){
                    mins = "0"+mins;
                }        

                return `${month} ${date} | ${hours}:${mins} ${period}`;
        };

        curDate.innerHTML = getCurrentTime() +" | "+getCurrentDay();
        
        
    </script>

</body>
</html>